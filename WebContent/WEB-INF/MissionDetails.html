<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
<meta charset="UTF-8">
<title>Mission</title>
</head>
<body>
	<h1>Mission details</h1>
	<div>
		<p th:text=" ${'Destintion: ' + account.destination}"></p>
		<p th:text=" ${'Description: ' + account.description}"></p>
		<p th:text="${'Start Date: ' + account.startDate}"></p>
		<p th:text="${'Duration (in days): ' + account.days}"></p>
		<p th:text="${'Status: ' + account.status}"></p>
	</div>
	
	<div th:if="${account.isOpen()}">
		<form  action="#" th:action="@{/CreateExpensesReport}" method="POST">
			<fieldset>
				<p>Food expenses: <input type="number" step="0.0001" name="food" min=0 required/></p>
				<p>Accomodation expenses: <input type="number" step="0.0001" name="accomodation" min=0 required/></p>
				<p>Transportation expenses: <input type="number" step="0.0001" name="transportation" min=0 required/></p>
				<input type="hidden" name="missionid" th:value="${account.id}">
				<input type="submit" name="Save Expenses">
			</fieldset>
		</form>
	</div>

	<div th:if="${account.isClosed()}">
	<!-- <div th:if="${account.isClosed() || account.isReported()}">  -->
		<p>Expenses:</p>
		<p th:text=" ${'Food: ' + expenses.food}"></p>
		<p th:text=" ${'Accomodation: ' + expenses.accomodation}"></p>
		<p th:text="${'Transportation: ' + expenses.transportation}"></p>
	</div>
		
	<div th:if="${account.isReported()}">
		<form th:action="@{/CloseMission}" method="POST">
			<input type="hidden" name="missionid" th:value="${account.id}">
			<button type="submit" name="action" value="Close">Close
				account</button>
		</form>
	</div>

</body>
</html>